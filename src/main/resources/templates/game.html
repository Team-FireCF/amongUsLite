<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.5.0/sockjs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
    <script src="/app.js"></script>
    <script src="/timer.js"></script>
    <link rel="stylesheet" href="styles.css">


</head>
<header>
    <div id="headerGame">
        <img src="https://via.placeholder.com/1600x200" alt="">

    </div>
</header>
<body>
    <div th:replace="fragments/logout :: a"></div>
    <div th:replace="fragments/homeButton :: a"></div>

    <div id="gameBoard">
            <div id="actionPlace">
                <div id="currentLocation">
                    <h2>Where am I?</h2>
                    <p th:text="${playerOne.playerLocation.locationName}"></p>
                </div>
                <div id="aroundMe">
                    <h2>Whos Around!?</h2>
                    <div>
                        <div th:replace="fragments/nearbyPlayers :: div"></div>
                    </div>
                </div>
                <div>
                    <div th:replace="fragments/taskList :: div"></div>
                </div>
                <div id="map">
                    <img src="/JavaMongUs_map.png" alt="">
                </div>
                <div th:if="${principal}" th:replace="fragments/timer.html :: #timer"></div>
                <div id="placesToGo">
                    <h3>Places You Can Go</h3>
                    <section>
                        <form action="/gameUpdate" method="post" id="placesToGoJs">
<!--                          This is change location  -->
                            <span th:each="location : ${playerOne.playerLocation.adjacentLocations}">
                                <input type="radio"  th:id="${location.getName()}" name="location" th:value="${location.getName()}">
                                <label th:for="${location.getName()}" th:text ="${location.getName()}"></label><br>
                            </span>
                            <input type="radio" th:id="${playerOne.playerLocation.locationName}" name="location"  th:value="'!'+${playerOne.playerLocation.locationName}" checked>
                            <label th:for="${playerOne.playerLocation.locationName}">Stay Here</label>
<!--                            End change location                 -->
<!--                            This is tasks         -->
                            <span th:if="${playerOne.taskList.contains(playerOne.playerLocation.locationName)}">
                                <h3>This room has an uncompleted task, would you like to complete it now?</h3>

                                <input  type="radio" th:id="${playerOne.playerLocation.locationName}" name="location" th:value="'&'+${playerOne.playerLocation.locationName}">
                                <label  th:for="${playerOne.playerLocation.getName()}">Yes</label><br>

                            </span>

<!--                            End tasks-->
<!--                            This is report         -->
                            <span th:if="${playerOne.playerLocation.deadBody == true}">
                                <h3>Dead body found! Would you like to report it?</h3><!--maybe have an alert pop up? -->

                                <input  type="radio" th:id="${playerOne.playerLocation.locationName}" name="location" th:value="'#'+${playerOne.playerLocation.locationName}">
                                <label  th:for="${playerOne.playerLocation.getName()}">Yes</label><br>
                                <input id="No"type="radio" name="location" checked>
                                <label for="No">No</label>
                            </span>

<!--                            End report-->


                        </form>

<!--                        Kill Form => should this be a separate form? where is it routed to?-->
                        <form action="/gameUpdate" method="POST" th:if="${playerOne.impostor == false and playerOne.playerLocation.playersAtCurrentLocation != playerOne.impostor}"> <!--change imposter back to true, false just to see -->
                            <legend>Would you like to <strong>KILL</strong> someone?</legend>
                            <span th:each="player : ${playerOne.playerLocation.playersAtCurrentLocation}">
                                <input type="radio"  th:id="${player.getUsername()}" name="kill" th:value="${player.getUsername()}">
                                <label th:for="${player.getUsername()}" th:text ="${player.getUsername()}"></label><br>
                            </span>
                        </form>
<!--                        End kill form                                                      -->
                    </section>
                </div>
            </div>
<!--                <div>-->
<!--                    <div th:replace="fragments/kill :: div"></div>-->
<!--                </div>-->

            </div>





    <a href="/meeting">Call Meeting</a>

    </div>


</body>
</html>